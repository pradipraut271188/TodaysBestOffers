<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Todayâ€™s Best Offers</title>
    
<style>
    body {
        margin: 0;
        font-family: "Poppins", sans-serif;
        background: #f9f9f9;
    }

    /* HEADER */
    header {
        width: 100%;
        padding: 20px;
        background: linear-gradient(90deg, #ff512f, #dd2476);
        color: white;
        text-align: left;
        font-size: 28px;
        font-weight: 700;
        position: sticky;
        top: 0;
        z-index: 1000;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    /* LAYOUT WRAPPER */
    .layout {
        display: flex;
        width: 100%;
        height: auto;
        zoom: 100%;
        box-sizing: border-box;
        padding: 10px;
        gap: 10px;
    }

    /* LEFT + RIGHT SIDEBARS */
    .sidebar, .rightbar {
        width: 15%;
        min-width: 150px;
        background: #fff;
        padding: 15px;
        border-radius: 12px;
        overflow-y: auto;
        max-height: calc(100vh - 90px);
    }

    .rightbar { border-left: 1px solid #ddd; }
    .sidebar { border-right: 1px solid #ddd; }

    /* PILL BUTTONS */
    .pill {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 8px 14px;
        margin: 6px 0;
        border-radius: 40px;
        background: white;
        cursor: pointer;
        font-weight: 600;
        transition: 0.3s;
        text-decoration: none;
        color: black;
    }

    .pill:hover {
        background: #e4e4e4;
    }

    .pill img {
        width: 26px;
        height: 26px;
        border-radius: 6px;
    }

    /* CENTER CONTENT */
    .content {
        width: 70%;
        padding: 20px;
        border-radius: 20px; 
        overflow: hidden; 
        background: #fff;
        box-shadow: 0 2px 12px rgba(0,0,0,0.06);
    }

    /* SEARCH BAR */
    .searchBox {
        width: 100%;
        display: flex;
        justify-content: center;
        margin-bottom: 20px;
    }

    #searchInput {
        width: 90%;
        padding: 12px 18px;
        border-radius: 40px;
        border: 1px solid #ccc;
        font-size: 16px;
    }

    /* OFFER GRID */
    .grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 20px;
    }

    .card {
        background: white;
        border-radius: 20px;
        overflow: hidden;
        text-decoration: none;
        color: black;
        transition: 0.3s;
        box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        display: flex;
        flex-direction: column;
    }

    .card:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(0,0,0,0.15);
    }

    .card img {
        width: 100%;
        height: 150px;
        object-fit: cover;
    }

    .card-body {
        padding: 12px 15px;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
    }

    .title {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 6px;
    }

    .price {
        font-size: 15px;
        font-weight: 600;
        color: #2ecc71;
    }

    .discount {
        color: #e74c3c;
        font-size: 14px;
    }

    .btn {
        padding: 8px 12px;
        background: #ff512f;
        color: #fff;
        border-radius: 8px;
        text-decoration: none;
        display: inline-block;
        margin-top: auto;
        text-align: center;
        font-weight: 600;
        transition: 0.3s;
    }

    .btn:hover {
        background: #dd2476;
    }

    .pagination {
        text-align: center;
        padding: 20px 0;
    }

    .pagination button {
        padding: 8px 14px;
        margin: 0 4px;
        border: none;
        border-radius: 8px;
        background: #333;
        color: #fff;
        cursor: pointer;
    }

    /* RESPONSIVE */
    @media (max-width: 1024px){
        .layout { flex-direction: column; }
        .sidebar, .rightbar, .content { width: 100%; max-width: 100%; }
        .sidebar, .rightbar { max-height: 300px; overflow-x: auto; margin-bottom: 10px; }
        #searchInput { width: 95%; }
        .grid { grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 12px; }
    }

    @media (max-width: 600px){
        header { font-size: 22px; padding: 16px; text-align: center; }
        .pill { padding: 6px 10px; font-size: 14px; gap: 6px; }
        .card img { height: 120px; }
        .btn { font-size: 14px; padding: 6px 10px; }
        .grid { grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px; }
    }
</style>
</head>

<body>

<header>ðŸ”¥ Todayâ€™s Best Offers</header>

<div class="layout">

    <!-- LEFT SIDEBAR -->
    <div class="sidebar">
        <h3>Shopping & Lifestyle</h3>
        <a class="pill" href="#" ><img src="https://logo.clearbit.com/amazon.in">Amazon</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/flipkart.com">Flipkart</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/meesho.com">Meesho</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/myntra.com">Myntra</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/snapdeal.com">Snapdeal</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/tatacliq.com">TataCliq</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/ajio.com">Ajio</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/nykaa.com">Nykaa</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/purplle.com">Purplle</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/bigbasket.com">BigBasket</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/blinkit.com">Blinkit</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/jiomart.com">JioMart</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/lenskart.com">Lenskart</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/pepperfry.com">Pepperfry</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/lifestyle.com">Lifestyle</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/firstcry.com">FirstCry</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/koovs.com">Koovs</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/decathlon.in">Decathlon</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/croma.com">Croma</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/sephora.com">Sephora</a>
    </div>

    <!-- CENTER CONTENT -->
    <div class="content">
        <div class="searchBox">
            <input type="text" id="searchInput" placeholder="Search offers...">
        </div>
        <div id="grid" class="grid"></div>
        <div class="pagination">
            <button onclick="prevPage()">Prev</button>
            <span id="pageNumber"></span>
            <button onclick="nextPage()">Next</button>
        </div>
    </div>

    <!-- RIGHT SIDEBAR -->
    <div class="rightbar">
        <h3>Food, Travel & Finance</h3>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/swiggy.com">Swiggy</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/zomato.com">Zomato</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/ubereats.com">UberEats</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/dominos.co.in">Dominoâ€™s</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/foodpanda.com">FoodPanda</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/makemytrip.com">MakeMyTrip</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/booking.com">Booking.com</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/goibibo.com">Goibibo</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/yatra.com">Yatra</a>
        <a class="pill" href="#"><img src="https://logo.clearbit.com/irctc.co.in">IRCTC</a>
    </div>

</div>

<script>
    const API_URL = "https://script.google.com/macros/s/AKfycbzQmZMbBQc6ChYGmhcLNeQmsSmYX1U4XBXOTc0vcrLAmXLa3XAWdnOvZowmCzW0tNAZjg/exec";

    let offers = [];
    let currentPage = 1;
    const itemsPerPage = 16;

    async function loadOffers() {
        try {
            const res = await fetch(API_URL);
            offers = await res.json();
        } catch(e) {
            console.error("Error fetching offers, using sample data.", e);
            offers = Array.from({length:16}).map((_,i)=>({
                title: `Sample Deal ${i+1}`,
                price: `â‚¹${499 + i*50}`,
                discount: `${10 + (i*5)}% OFF`,
                image: `https://picsum.photos/seed/${i}/300/200`,
                link:'#'
            }));
        }
        render();
    }

    function render() {
        const search = document.getElementById("searchInput").value.toLowerCase();
        let filtered = offers;
        if(search){
            filtered = offers.filter(o=> o.title.toLowerCase().includes(search));
        }
        const start = (currentPage-1)*itemsPerPage;
        const paginated = filtered.slice(start, start+itemsPerPage);

        document.getElementById("grid").innerHTML = paginated.map(item=>`
            <div class="card">
                <img src="${item.image}" />
                <div class="card-body">
                    <div class="title">${item.title}</div>
                    <div class="price">${item.price}</div>
                    <div class="discount">${item.discount}</div>
                    <a class="btn" href="${item.link}" target="_blank">Grab Deal</a>
                </div>
            </div>
        `).join("");

        document.getElementById("pageNumber").innerText = `Page ${currentPage}`;
    }

    function nextPage() { currentPage++; render(); }
    function prevPage() { if(currentPage>1) currentPage--; render(); }

    document.getElementById("searchInput").addEventListener("input",()=>{
        currentPage=1;
        render();
    });

    loadOffers();
</script>

</body>
</html>
